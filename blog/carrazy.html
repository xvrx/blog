<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
    <title>Nonexistent cars!</title>
    <link rel="icon" type="image/svg+xml" href="https://avatars.githubusercontent.com/u/85608673?s=400&u=c2ee040195b1c9c08fdb687e9461b202a9b86cd2&v=4" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!-- <link rel="stylesheet" href="./blog.css"> -->
		<link rel="stylesheet" href="./basic.css">
  <link rel="stylesheet" href="../markdown.css">
		
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">  
      <div class="link-wrapper svelte-1klmgyt" data-svelte-h="svelte-3mwoip">
        <a data-sveltekit-preload-data="off" href="/" class="svelte-1klmgyt layout-link">Home</a> 
        <a data-sveltekit-preload-data="off" href="/about" class="svelte-1klmgyt layout-link">About</a> 
        <a data-sveltekit-preload-data="off" href="/blog" class="svelte-1klmgyt layout-link">Blog</a>
      </div>  <div class="parsed-wrapper">
  <div class="markdown"><!-- HTML_TAG_START -->
<h1>Top 10 reason why i hate Cars.</h1>
<h6>25 June 2023</h6>

<p>(this article is partially broken) <br/> Have u ever wanted to manage nonexistent cars? maybe this is useful.</p>
<h2><img src="https://raw.githubusercontent.com/xvrx/carrazy/master/images/otwRumahAgnes.gif" alt="figure1"></h2>
<p>requirements :</p>
<ol>
<li><a href="https://www.mongodb.com/try/download/community">mongodb</a> to download</li>
<li><a href="https://nodejs.org/en">nodejs</a></li>
<li>(optional) <a href="https://git-scm.com/downloads">Git</a></li>
</ol>
<h2>run server locally</h2>
<ol>
<li>download the compressed project file and <em>carModelExample.json</em> from <a href="https://github.com/xvrx/carrazy/releases/tag/%23fleet">releases</a> </li>
<li>using command prompt, navigate to folder the directory and install all necessary modules (example :  <code>cd D:\folders\&lt;projectdirectory&gt;</code>)</li>
</ol>
<pre><code class="language-bash">npm install
</code></pre>
<ol start="3">
<li><p>open mongodb, create a database &#39;carrazy&#39;</p>
</li>
<li><p>navigate to project directory and run :</p>
</li>
</ol>
<pre><code class="language-bash">npm start
</code></pre>
<ol start="6">
<li>after running the server, collections will be automatically added into the database</li>
</ol>
<p><img src="https://raw.githubusercontent.com/xvrx/carrazy/main/images/Pasted%20image%2020230816193243.png" alt="image0"></p>
<ol start="7">
<li><p>close the command prompt to shut down the server</p>
</li>
<li><p>import <em>carModelExample.json</em>  to the carModel Collection</p>
</li>
</ol>
<p>![[bruh moment.gif]]</p>
<ol start="8">
<li>add at least one admin or more users into Users collection based on the following structure (contains nama,nip,seksi,pws,role), there are only 2 roles : &quot;admin&quot; and &quot;user&quot;</li>
</ol>
<p>![[Pasted image 20230816194642.png]]</p>
<ol start="9">
<li>open <code>config.js</code> in the directory project :</li>
</ol>
<p>![[Pasted image 20230816195218.png]]</p>
<ul>
<li><code>DB URL</code> = the server in which mongodb runs</li>
<li><code>CRON SCHEDULE</code> = the time in which the app update the status of each active records in the database (ongoing / waiting / approved)
   the app updates every : <ul>
<li>1 -5 is monday to friday</li>
<li>06 is the hour</li>
<li>26 is the minutes</li>
<li>so it&#39;s every 6 past 26 from monday to friday</li>
</ul>
</li>
<li><code>USE_BUILD_DIRECTORY</code> = if true, the server will serve the front end in <code>build</code> folder instead of expecting request from other front-end server (e.g : react)</li>
</ul>
<ol start="10">
<li>with command prompt, navigate to the project directory again and start the server</li>
</ol>
<pre><code class="language-bash">npm start
</code></pre>
<ol start="11">
<li><p>open the browser,</p>
<ul>
<li>access the server :<ul>
<li>via localhost : <code>http://localhost:&lt;port as in config.js&gt;</code> or <code>http://127.0.0.1:port/</code></li>
<li>via ip : <code>http://&lt;yourDeviceIP&gt;:&lt;port&gt;</code></li>
</ul>
</li>
</ul>
</li>
<li><p>login with credentials you that you have stored in Users collection (step 9)</p>
</li>
</ol>
<h3>add new car model</h3>
<blockquote>
<p>car model collections in the db do the job of tracking of all active records so they don&#39;t overlap.</p>
</blockquote>
<p>to add new car model :</p>
<ol>
<li>add new image model for the car (it&#39;s recommended that the image width and height and the file size are relatively similar to that of examples.)</li>
<li>in mongodb, into the carModel collection, insert a record for the new model (jenis, plat &amp; peminjaman)</li>
</ol>
<p>![[Pasted image 20230816201715.png]]</p>
<h2>+ run the server as a service (for windows only)</h2>
<p>after successful local server setup, you can install the process as a service (instead of showing up a terminal, the process run in the background) </p>
<ol>
<li>open command prompt, install a package called <code>node-windows</code> globally</li>
</ol>
<pre><code class="language-bash">npm i node-windows -g
</code></pre>
<ol start="2">
<li><p>create a file outside of the project directory</p>
<ul>
<li>lets name it	<code>runAsService.js</code>, modify the script location to the <code>main.js</code> in the project directory location</li>
</ul>
</li>
</ol>
<pre><code class="language-javascript">const Service = require(&#39;node-windows&#39;).Service;

const svc = new Service({
    name: &#39;Carrazy&#39;, // name of the service
    description: &#39;Fleet management and mental disorder.&#39;, // whatever
    script: &#39;D:\\pinjambrok\\srv\\main.js&#39;, // address to your project directory
  });

  svc.on(&#39;install&#39;, () =&gt; {
    svc.start();
  });
  svc.install();
</code></pre>
<p>save the file</p>
<ul>
<li>open cmd as administrator, navigate to <code>runAsService.js</code> directory and run</li>
</ul>
<pre><code class="language-bash">node runAsService.js install
</code></pre>
<ul>
<li><p>this will create a new folder inside your project directory called &quot;daemon&quot;, check for any error in carrazy.err.log, if there&#39;s no error inside the log, the service is running in the background</p>
</li>
<li><p>open run (windows + R), type services.msc or just search for &#39;services&#39; in windows start menu</p>
</li>
<li><p>in services, find for &quot;carrazy&quot; (name of service in step 2)</p>
</li>
<li><p>set Startup type to automatic and click start</p>
</li>
</ul>
<p>![[Pasted image 20230816203953.png]]</p>
<blockquote>
<p>server will no longer show the terminal as it runs in the background. 
you can still run the local server in the project folder using <code>npm start</code></p>
</blockquote>
<p>open your browser and access the server as in step 11</p>
<!-- HTML_TAG_END --></div></div> 
		</div>
    <style>
      
    </style>
	</body>
</html>
